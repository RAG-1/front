{"mappings":"A,I,E,C,EEAA,EAAiB,YAAwB,OAAO,CAAC,SDEjD,MAAM,EAAgB,SAAS,cAAc,CAAC,kBACxC,EAAc,SAAS,cAAc,CAAC,gBACtC,EAAY,SAAS,cAAc,CAAC,cACpC,EAAmB,SAAS,cAAc,CAAC,qBAQjD,SAAS,EAAoB,CAAO,CAAE,EAAS,MAAM,EACnD,IAAM,EAAU,SAAS,aAAa,CAAC,MAEnC,AAAW,CAAA,SAAX,EACF,EAAQ,SAAS,CAAG,kFAEpB,EAAQ,SAAS,CAAG,gDAGtB,IAAM,EAAS,SAAS,aAAa,CAAC,OAWtC,GAVA,EAAO,SAAS,CACb,AAAA,CAAA,AAAW,SAAX,EAAoB,QAAU,YAAA,EAC/B,kHACE,AAAW,SAAX,EACF,EAAO,SAAS,CAAC,GAAG,CAAC,cAAe,gBAAiB,WAEvD,EAAO,SAAS,CAAC,GAAG,CAAC,cAAe,eAAgB,cAEpD,EAAO,WAAW,CAAG,EAEjB,AAAW,cAAX,EAAwB,K,EAC1B,IAAM,EAAS,SAAS,aAAa,CAAC,MACtC,CAAA,EAAO,SAAS,CACd,uFACF,IAAM,EAAM,SAAS,aAAa,CAAC,MACnC,CAAA,EAAI,GAAG,C,C,EAAG,I,E,U,C,E,O,C,EACV,EAAI,GAAG,CAAG,SACV,EAAI,SAAS,CAAG,6BAChB,EAAO,WAAW,CAAC,GACnB,EAAQ,WAAW,CAAC,GACpB,EAAQ,WAAW,CAAC,EACtB,MACE,EAAQ,WAAW,CAAC,GAOtB,OAJA,WAAW,KACT,EAAO,SAAS,CAAC,GAAG,CAAC,uBACvB,EAAG,IAEI,CACT,CAEA,SAAS,IACP,EAAc,SAAS,CAAG,EAAc,YAAY,AACtD,CAEA,eAAe,EAAqB,CAAW,CAAE,CAAY,EAC3D,IAAM,EAAW,MAAM,MAnDb,iCAmDwB,CAChC,OAAQ,OACR,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,SAAS,CAAC,CACnB,MAAO,EACP,SAAU,CACZ,EAAK,GAEP,GAAI,CAAC,EAAS,EAAE,CACd,MAAM,AAAI,MAAM,+BAIlB,MAAO,AADM,CAAA,MAAM,EAAS,IAAI,EAAhC,EACY,KAAK,AACnB,CAEA,EAAY,gBAAgB,CAAC,SAAU,MAAO,IAC5C,EAAE,cAAc,GAChB,IAAM,EAAU,EAAU,KAAK,CAAC,IAAI,GAC9B,EAAmB,EAAiB,KAAK,CAC/C,GAAK,GACL,GAAI,CAAC,EAAkB,YACrB,MAAM,cAIR,EAAc,WAAW,CAAC,EAAoB,EAAS,SACvD,EAAU,KAAK,CAAG,GAClB,EAAU,KAAK,CAAC,MAAM,CAAG,GACzB,IAEA,GAAI,CACF,IAAM,EAAW,MAAM,EAAqB,EAAS,GACrD,EAAc,WAAW,CAAC,EAAoB,EAAU,cACxD,GACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,qCAAsC,GACpD,EAAc,WAAW,CACvB,EACE,0CACA,cAGJ,GACF,EACF,GAEA,OAAO,gBAAgB,CAAC,mBAAoB,KAC1C,EAAc,WAAW,CACvB,EAAoB,sCAAuC,cAE7D,GACF,GAEA,MAAM,EAAW,SAAS,cAAc,CAAC,cAEzC,EAAS,gBAAgB,CAAC,QAAS,KACjC,EAAS,KAAK,CAAC,MAAM,CAAG,OACxB,EAAS,KAAK,CAAC,MAAM,CAAG,EAAS,YAAY,CAAG,IAClD,GAEA,EAAS,gBAAgB,CAAC,UAAW,AAAC,IACtB,UAAV,EAAE,GAAG,EAAiB,EAAE,QAAQ,GAClC,EAAE,cAAc,GAChB,SAAS,cAAc,CAAC,gBAAgB,aAAa,GAEzD","sources":["<anon>","src/app.js","node_modules/@parcel/runtime-js/lib/runtime-a182b67b44140455.js"],"sourcesContent":["\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nvar $1862cbf67f994e67$exports = {};\n$1862cbf67f994e67$exports = import.meta.resolve(\"2u8Vv\");\n\n\nconst $e73bf42412feb220$var$chatContainer = document.getElementById(\"chat-container\");\nconst $e73bf42412feb220$var$messageForm = document.getElementById(\"message-form\");\nconst $e73bf42412feb220$var$userInput = document.getElementById(\"user-input\");\nconst $e73bf42412feb220$var$languageSelector = document.getElementById(\"language-selector\");\n// We'll read the API endpoint from an environment variable\nconst $e73bf42412feb220$var$BASE_URL = \"https://daejeon01.fly.dev\";\nconst $e73bf42412feb220$var$url = `${$e73bf42412feb220$var$BASE_URL}/chat`;\n// This will be replaced at build time by Parcel with the appropriate value\n// from the corresponding .env file.\nfunction $e73bf42412feb220$var$createMessageBubble(content, sender = \"user\") {\n    const wrapper = document.createElement(\"div\");\n    if (sender === \"user\") wrapper.className = \"mb-6 mr-6 flex flex-row-reverse items-end justify-end space-x-3 space-x-reverse\";\n    else wrapper.className = \"mb-6 flex items-start justify-start space-x-3\";\n    const bubble = document.createElement(\"div\");\n    bubble.className = (sender === \"user\" ? \"user \" : \"assistant \") + \"max-w-[60%] p-3 rounded-3xl whitespace-pre-wrap leading-relaxed shadow-lg bubble-appear font-semibold text-base\";\n    if (sender === \"user\") bubble.classList.add(\"bg-gray-200\", \"text-pink-500\", \"ml-auto\");\n    else bubble.classList.add(\"bg-pink-400\", \"md:max-w-2xl\", \"text-white\");\n    bubble.textContent = content;\n    if (sender === \"assistant\") {\n        const avatar = document.createElement(\"div\");\n        avatar.className = \"avatar-cute w-10 h-10 flex-shrink-0 flex items-center justify-center overflow-hidden\";\n        const img = document.createElement(\"img\");\n        img.src = (0, (/*@__PURE__*/$parcel$interopDefault($1862cbf67f994e67$exports)));\n        img.alt = \"avatar\";\n        img.className = \"w-full h-full object-cover\";\n        avatar.appendChild(img);\n        wrapper.appendChild(avatar);\n        wrapper.appendChild(bubble);\n    } else wrapper.appendChild(bubble);\n    setTimeout(()=>{\n        bubble.classList.add(\"bubble-appear-active\");\n    }, 10);\n    return wrapper;\n}\nfunction $e73bf42412feb220$var$scrollToBottom() {\n    $e73bf42412feb220$var$chatContainer.scrollTop = $e73bf42412feb220$var$chatContainer.scrollHeight;\n}\nasync function $e73bf42412feb220$var$getAssistantResponse(userMessage, codeLanguage) {\n    const response = await fetch($e73bf42412feb220$var$url, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            query: userMessage,\n            language: codeLanguage\n        })\n    });\n    if (!response.ok) throw new Error(\"Network response was not ok\");\n    const data = await response.json();\n    return data.reply;\n}\n$e73bf42412feb220$var$messageForm.addEventListener(\"submit\", async (e)=>{\n    e.preventDefault();\n    const message = $e73bf42412feb220$var$userInput.value.trim();\n    const selectedLanguage = $e73bf42412feb220$var$languageSelector.value;\n    if (!message) return;\n    if (!selectedLanguage) {\n        alert(\"\\uC5B8\\uC5B4\\uB97C \\uC120\\uD0DD\\uD558\\uC138\\uC694!\");\n        return;\n    }\n    $e73bf42412feb220$var$chatContainer.appendChild($e73bf42412feb220$var$createMessageBubble(message, \"user\"));\n    $e73bf42412feb220$var$userInput.value = \"\";\n    $e73bf42412feb220$var$userInput.style.height = \"\";\n    $e73bf42412feb220$var$scrollToBottom();\n    try {\n        const response = await $e73bf42412feb220$var$getAssistantResponse(message, selectedLanguage);\n        $e73bf42412feb220$var$chatContainer.appendChild($e73bf42412feb220$var$createMessageBubble(response, \"assistant\"));\n        $e73bf42412feb220$var$scrollToBottom();\n    } catch (error) {\n        console.error(\"Error fetching assistant response:\", error);\n        $e73bf42412feb220$var$chatContainer.appendChild($e73bf42412feb220$var$createMessageBubble(\"Error fetching response. Check console.\", \"assistant\"));\n        $e73bf42412feb220$var$scrollToBottom();\n    }\n});\nwindow.addEventListener(\"DOMContentLoaded\", ()=>{\n    $e73bf42412feb220$var$chatContainer.appendChild($e73bf42412feb220$var$createMessageBubble('\\uC548\\uB155\\uD558\\uC138\\uC694. \\uB2F9\\uC2E0\\uC758 \\uCF54\\uB4DC\\uB97C \\uD2B8\\uB80C\\uB4DC\\uD558\\uAC8C \\uBC14\\uAFD4\\uC904 \"\\uB378\\uD0C0\\uCE90\\uCC98\"\\uC785\\uB2C8\\uB2E4!', \"assistant\"));\n    $e73bf42412feb220$var$scrollToBottom();\n});\nconst $e73bf42412feb220$var$textarea = document.getElementById('user-input');\n$e73bf42412feb220$var$textarea.addEventListener('input', ()=>{\n    $e73bf42412feb220$var$textarea.style.height = 'auto';\n    $e73bf42412feb220$var$textarea.style.height = $e73bf42412feb220$var$textarea.scrollHeight + 'px';\n});\n$e73bf42412feb220$var$textarea.addEventListener('keydown', (e)=>{\n    if (e.key === 'Enter' && !e.shiftKey) {\n        e.preventDefault();\n        document.getElementById('message-form').requestSubmit();\n    }\n});\n\n\n//# sourceMappingURL=front.f7877705.js.map\n","import avatarimg from \"url:./assets/black-cat.png\";\r\n\r\nconst chatContainer = document.getElementById(\"chat-container\");\r\nconst messageForm = document.getElementById(\"message-form\");\r\nconst userInput = document.getElementById(\"user-input\");\r\nconst languageSelector = document.getElementById(\"language-selector\");\r\n\r\n// We'll read the API endpoint from an environment variable\r\nconst BASE_URL = process.env.API_ENDPOINT;\r\nconst url = `${BASE_URL}/chat`;\r\n// This will be replaced at build time by Parcel with the appropriate value\r\n// from the corresponding .env file.\r\n\r\nfunction createMessageBubble(content, sender = \"user\") {\r\n  const wrapper = document.createElement(\"div\");\r\n\r\n  if (sender === \"user\") {\r\n    wrapper.className = \"mb-6 mr-6 flex flex-row-reverse items-end justify-end space-x-3 space-x-reverse\";\r\n  } else {\r\n    wrapper.className = \"mb-6 flex items-start justify-start space-x-3\";\r\n  }\r\n\r\n  const bubble = document.createElement(\"div\");\r\n  bubble.className =\r\n    (sender === \"user\" ? \"user \" : \"assistant \") +\r\n    \"max-w-[60%] p-3 rounded-3xl whitespace-pre-wrap leading-relaxed shadow-lg bubble-appear font-semibold text-base\";\r\n  if (sender === \"user\") {\r\n    bubble.classList.add(\"bg-gray-200\", \"text-pink-500\", \"ml-auto\");\r\n  } else {\r\n  bubble.classList.add(\"bg-pink-400\", \"md:max-w-2xl\", \"text-white\");\r\n  }\r\n  bubble.textContent = content;\r\n\r\n  if (sender === \"assistant\") {\r\n    const avatar = document.createElement(\"div\");\r\n    avatar.className =\r\n      \"avatar-cute w-10 h-10 flex-shrink-0 flex items-center justify-center overflow-hidden\";\r\n    const img = document.createElement(\"img\");\r\n    img.src = avatarimg\r\n    img.alt = \"avatar\";\r\n    img.className = \"w-full h-full object-cover\";\r\n    avatar.appendChild(img);\r\n    wrapper.appendChild(avatar);\r\n    wrapper.appendChild(bubble);\r\n  } else {\r\n    wrapper.appendChild(bubble);\r\n  }\r\n\r\n  setTimeout(() => {\r\n    bubble.classList.add(\"bubble-appear-active\");\r\n  }, 10);\r\n\r\n  return wrapper;\r\n}\r\n\r\nfunction scrollToBottom() {\r\n  chatContainer.scrollTop = chatContainer.scrollHeight;\r\n}\r\n\r\nasync function getAssistantResponse(userMessage, codeLanguage) {\r\n  const response = await fetch(url, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      query: userMessage,\r\n      language: codeLanguage,\r\n    }),  });\r\n\r\n  if (!response.ok) {\r\n    throw new Error(\"Network response was not ok\");\r\n  }\r\n\r\n  const data = await response.json();\r\n  return data.reply;\r\n}\r\n\r\nmessageForm.addEventListener(\"submit\", async (e) => {\r\n  e.preventDefault();\r\n  const message = userInput.value.trim();\r\n  const selectedLanguage = languageSelector.value;\r\n  if (!message) return;\r\n  if (!selectedLanguage) {\r\n    alert(\"언어를 선택하세요!\");\r\n    return;\r\n  }\r\n\r\n  chatContainer.appendChild(createMessageBubble(message, \"user\"));\r\n  userInput.value = \"\";\r\n  userInput.style.height = \"\";\r\n  scrollToBottom();\r\n\r\n  try {\r\n    const response = await getAssistantResponse(message, selectedLanguage);\r\n    chatContainer.appendChild(createMessageBubble(response, \"assistant\"));\r\n    scrollToBottom();\r\n  } catch (error) {\r\n    console.error(\"Error fetching assistant response:\", error);\r\n    chatContainer.appendChild(\r\n      createMessageBubble(\r\n        \"Error fetching response. Check console.\",\r\n        \"assistant\"\r\n      )\r\n    );\r\n    scrollToBottom();\r\n  }\r\n});\r\n\r\nwindow.addEventListener(\"DOMContentLoaded\", () => {\r\n  chatContainer.appendChild(\r\n    createMessageBubble('안녕하세요. 당신의 코드를 트렌드하게 바꿔줄 \"델타캐처\"입니다!', \"assistant\")\r\n  );\r\n  scrollToBottom();\r\n});\r\n\r\nconst textarea = document.getElementById('user-input');\r\n\r\ntextarea.addEventListener('input', () => {\r\n  textarea.style.height = 'auto';\r\n  textarea.style.height = textarea.scrollHeight + 'px';\r\n});\r\n\r\ntextarea.addEventListener('keydown', (e) => {\r\n  if (e.key === 'Enter' && !e.shiftKey) {\r\n    e.preventDefault();\r\n    document.getElementById('message-form').requestSubmit();\r\n  }\r\n});","module.exports = __parcel__import__.meta.resolve(\"2u8Vv\");"],"names":["$1862cbf67f994e67$exports","resolve","$e73bf42412feb220$var$chatContainer","document","getElementById","$e73bf42412feb220$var$messageForm","$e73bf42412feb220$var$userInput","$e73bf42412feb220$var$languageSelector","$e73bf42412feb220$var$createMessageBubble","content","sender","wrapper","createElement","className","bubble","classList","add","textContent","a","avatar","img","src","__esModule","default","alt","appendChild","setTimeout","$e73bf42412feb220$var$scrollToBottom","scrollTop","scrollHeight","$e73bf42412feb220$var$getAssistantResponse","userMessage","codeLanguage","response","fetch","method","headers","body","JSON","stringify","query","language","ok","Error","data","json","reply","addEventListener","e","preventDefault","message","value","trim","selectedLanguage","alert","style","height","error","console","window","$e73bf42412feb220$var$textarea","key","shiftKey","requestSubmit"],"version":3,"file":"front.f7877705.js.map"}